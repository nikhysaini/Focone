<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <title>Cards Below Navbar</title>
     
    <style>
      .session-type {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .session-type:hover {
            background-color:#274cdf  !important;
            color:white
        }
        .nav-titles:hover {
         color:#274cdf !important;
        }
        #toggleSwitch:checked {
          background-color: #274cdf !important;
          border-color: #f6f6f6 !important;
       }

      #toggleSwitch:checked::before {
       background-color: #000 !important;
      }
    </style>
</head>

<body class="bg-light" >

  <!------NAVBAR------------------------------------------------------------------------------------->
   <nav class="navbar navbar-expand-lg navbar-white bg-white shadow-sm sticky-top">
  <div class="container-fluid">
    <a class="navbar-brand ms-3 fw-bold fs-3 " style="color: #274cdf;" href="#"><i class="fs-3 fas fa-brain" ></i> FocOne</a>
    <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto my-2 my-lg-0 d-flex align-items-center">
        <li class="nav-item px-3">
          <a class="nav-link fw-bold nav-titles" href="/">Home</a>
        </li>
        <li class="nav-item px-3 ">
          <a class="nav-link fw-bold nav-titles" href="/focus-mode">Focus Mode</a>
        </li>
        <li class="nav-item px-3 ">
          <a class="nav-link fw-bold nav-titles" href="/">Community</a>
        </li>
        
        <li class="nav-item px-3 ">
          {% if not user.is_authenticated %}
          <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#loginModal">
          <a class=" fw-bold nav-link nav-titles" href="#">
        <i class="fas "></i> Login
          </a>
          </button>
          {% else %}
          <a class=" fw-bold nav-link nav-titles" href="/profile">
          <i class="fas fa-user-circle"></i> Profile
          </a>
          {% endif%}

        </li>
      </ul>
    </div>
  </div>
</nav>
<!------NAVBAR-END------------------------------------------------------------------------------------>


<!------Login-form-------------------------------------------------------------------------------------->

<div class="modal fade mt-5" id="loginModal">
  <div class="modal-dialog "> 
    
      <!-- Header -->
      <div class="modal-header bg-white border-bottom-0 d-flex justify-content-between align-items-center">
        <span class="fs-3 m-0">Login here</span>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-content shadow"> <!-- Your card -->
      
      {% if messages and show_login_modal %}
        <ul>
            {% for message in messages %}
                <li class="text-danger">{{ message }}</li>
            {% endfor %}
        </ul>
          {% endif %}
      <!-- Body -->
      <div class="modal-body">
        <form method="POST" action="{% url 'login' %}">
          {% csrf_token %}
          <label for="email" class="form-label fw-semibold">Email:</label>
          <input class="form-control mb-3" type="text" id="username" name="email" placeholder="Enter username" required>

          <label for="password" class="form-label fw-semibold">Password:</label>
          <input class="form-control mb-3" type="password" id="password" name="password" placeholder="Enter password" required>

          <button type="submit" class="btn w-100 text-white" style="background-color:#274cdf">Login</button>
        </form>
      </div>

      <!-- Footer -->
      <div class="modal-footer justify-content-center border-top-0">
        <p class="mb-0">Not registered? 
          <a class="text-success" data-bs-target="#registerModal" data-bs-toggle="modal" style="text-decoration: none;" >Create an account</a>
        </p>
      </div>

    </div>
  </div>
</div>

 {% if show_login_modal %}
<script>
  bootstrap.Modal.getOrCreateInstance(document.getElementById('loginModal')).show();// showing model using javascript
</script>
{% endif %}


   <!------Register-form------------------------------------------------------------------------------------>
<div class="modal fade mt-5" id="registerModal">
  <div class="modal-dialog "> 
    <div class="modal-content shadow"> <!-- Your card -->
    
      <!-- Header -->
      <div class="modal-header bg-white border-bottom-0 d-flex justify-content-between align-items-center">
        <span class="fs-3 m-0">Register here</span>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
        {% if messages and show_register_modal %}
        <ul>
            {% for message in messages %}
                <li class="text-danger">{{ message }}</li>
            {% endfor %}
        </ul>
       {% endif %}
      <!-- Body -->
      <div class="modal-body">
        <form method="POST" action="{% url 'register' %}" enctype="multipart/form-data" >
          {% csrf_token %}

          <label for="firstname" class="form-label fw-semibold">First Name:</label>
          <input class="form-control mb-3" type="text" id="firstname" name="firstname" placeholder="Enter first name" required>

          <label for="firstname" class="form-label fw-semibold">Last Name:</label>
          <input class="form-control mb-3" type="text" id="lastname" name="lastname" placeholder="Enter last name" required>
          
          <label for="email" class="form-label fw-semibold">Email:</label>
          <input class="form-control mb-3" type="email" id="email" name="email" placeholder="Enter email" required>

          <label for="password" class="form-label fw-semibold">Password:</label>
          <input class="form-control mb-3" type="password" id="password" name="password" placeholder="Enter password" required>
         
          <label for="profile" class="form-label fw-semibold">Profile picture:</label>
          <input class="form-control mb-3" type="file" id="ppic" name="profile" required>
          
          <button type="submit" class="btn w-100 text-white" style="background-color:#274cdf">Register</button>
        </form>
      </div>

      <!-- Footer -->
      <div class="modal-footer justify-content-center border-top-0">
        <p class="mb-0">Already have a account ?
          <a class="text-success" data-bs-target="#loginModal" data-bs-toggle="modal" style="text-decoration: none;">Login</a>
        </p>
      </div>

    </div>
  </div>
</div>
{% if show_register_modal %}
<script>
  bootstrap.Modal.getOrCreateInstance(document.getElementById('registerModal')).show();
</script>
{% endif %}
<!----------------------------------------------------------------------------------------------------->
<div class="modal fade mt-5" id="registerotp">
  <div class="modal-dialog "> 
    <div class="modal-content shadow"> 
    
    
      <div class="modal-header bg-white border-bottom-0 d-flex justify-content-between align-items-center">
        <span class="fs-3 m-0">Enter OTP</span>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
        {% if messages and show_otp %}
        <ul>
            {% for message in messages %}
                <li class="text-danger">{{ message }}</li>
            {% endfor %}
        </ul>
       {% endif %}
      <!-- Body -->
      <div class="modal-body">
        <form method="POST" action="{% url 'otp' %}">
          {% csrf_token %}
          
          <label for="otp" class="form-label fw-semibold">Enter OTP:</label>
          <input class="form-control mb-3" type="text" id="otp" name="otp" placeholder="Enter otp here" required>

          <button type="submit" class="btn w-100 text-white" style="background-color:#274cdf">Submit</button>
        </form>
      </div>

    </div>
  </div>
</div>
{% if show_otp %}
<script>
  bootstrap.Modal.getOrCreateInstance(document.getElementById('registerotp')).show();
</script>
{% endif %}
{% if account_created %}
<script>
  alert("Account created successfully . Please login")
</script>
{% endif %}

<!-------------------------------BODY----------------------------------------------------------------->
{% block st %}
{% endblock %}


</body>

</html>
